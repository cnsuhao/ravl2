<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <title>Calls and Triggers</title>
  </head>

  <body>
    These classes provide a flexible method for handling function and
    method pointers. They have many of the advantages of using 
    <a href="Ravl.OS.Threads.Signals.html">Signals</a> in that you don't
    have to know the exact form a function pointer, but without the
    complexity.
    
    <h3>Using triggers </h3>
    
    Triggers are the simplest form of call. They allow an function
    with arbitrary set of parameters to be called on an event. It is
    used in classes such as 
    <a href="../Class/RavlN.TimedTriggerQueueC.html">TimedTriggerQueueC</a>
    to call a method after a fixed delay, and in 
    <a href="../Class/RavlN.TickerTrigger.html">TickerTriggerC</a> which
    calls a method repeatedly at a fixed frequency.
    <p>
      Creating a trigger is simple:
<pre>
#include "Ravl/Trigger.hh"

TriggerC myTrigger;
</pre>
    
    You can assign a function to it using the <b>Trigger</b> call.

<pre>
bool PrintNumber(int &amp;i) {
  cout << "PrintNumber called with value " << i << "\n";
  return true;
}

myTrigger = Trigger(&amp;PrintNumber,2);
</pre>
    
   Calling the function can be done with the () operator.
    
<pre>
myTrigger();
</pre>

    <h3>Using calls </h3>

Calls are wrappers for C++ function pointers which allow
you to find the difference between calling a method of a
class and a normal function, and to add default arguments
to the call that the code calling the function need not know about. <br>

<h4> Default arguments </h4>

When you setup a callback function, you can set default parameters. This
especially useful if the method you wish to call requires more information
than the callback normally provides. In the 3rd argument is set to 3, since
its only called with 2 arguments, 30 is passed as its default value.

<pre>
#include "Ravl/Calls.hh"

bool callback(int &v1,double &v2,int &x) {
  // Do something....
  return true;
}

int myprog() {

  // Declare callback variable.
  CallFunc2&lt;int,double&gt; func;  
  
  // Setup call back.
  func = Trigger(&amp;callback,10,20,30);

  // Some paramiters...  
  int v1 = 0;
  double v2 = 1.2;
  
  // Call function.
  func(v1,v2);
  
}
</pre>
  </body>
</html>
