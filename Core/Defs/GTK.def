# This file is part of RAVL, Recognition And Vision Library
# Copyright (C) 2001, University of Surrey.
# This code may be redistributed under the terms of the GNU lesser
# public license (LGPL). See the lgpl.licence file for details or
# see http://www.gnu.org/copyleft/lesser.html
# file-header-ends-here
ifndef GTKDEF
GTKDEF = 1
################################################
# $Id$

include x11.def

# Check if we're using GTK

ifneq ($(strip $(filter-out $(RESOURCES),libGTK)),)

ifdef GTKPATH 
GTKCONFIG = $(GTKPATH)/bin/gtk-config 
else 
GTKCONFIG = gtk-config
endif 

ifdef GLIBPATH
GLIBCONFIG = $(GLIBPATH)/bin/glib-config 
else
GLIBCONFIG = glib-config 
endif 

ifndef GTKCFLAGS 
GTKCFLAGS = `$(GTKCONFIG) --cflags`
endif 

ifndef GLIBCFLAGS 
GLIBCFLAGS = `$(GLIBCONFIG) --cflags`
endif 

ifndef GTKLIBS 
GTKLIBS = -L/opt/lib  `$(GTKCONFIG) --libs`
#GTKLIBS := $(filter-out -rdynamic,$(GTKLIBS))
endif 

ifndef GLIBLIBS 
GLIBLIBS = `$(GLIBCONFIG) --libs`
endif 

GTKLIBS += -lgthread 
else

ifndef GTKCFLAGS
GTKCFLAGS= `pkg-config gtk+-2.0 --cflags` -DRAVL_USE_GTK=1
endif
ifndef GTKLIBS
GTKLIBS= -lgthread-2.0 `pkg-config gtk+-2.0 --libs`
endif

endif

INCLUDES += $(GTKCFLAGS) $(GLIBCFLAGS)
EXELIB :=  -lgthread-2.0 $(GTKLIBS) $(GLIBLIBS) $(EXELIB)

endif
