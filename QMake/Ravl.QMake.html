<html>
<head>
  <title>QMake: A simple "make" system</title>
</head>
<!--! children="Defs;autoport;sysconf" -->
<body>
    
      <p>QMake is a flexible compilation aid, based on the GNU "make" program.
      It was originally developed for building the RAVL (and its predecessors)
      library, but it can be used for compiling any software project, however
      big or small.</p>

      <p>There are a number of <a href="../../../../../RAVL/QMake/Help.txt">QMake
            command-line options</a> you can use, e.g.:  </p>

      <ul>
      <li>Typing <code>qm</code> with no arguments will
        build code that contains basic checks such as array bound violations.
        (<code>qm</code> is an alias defined when you set up the
        RAVL environment.) </li> 
      <li>The debug options will build in debugging information.</li>
      <li>  The optimised versions produce optimised code with no checking.</li>
      <li>  You can include either static or shared RAVL libraries in your
        executable.</li>
      <li>You can list the <a href="../../../../../RAVL/QMake/Help.txt">
          command-line options</a> at any time by typing <code> qm help</code>.</li>
    </ul>

    <p>QMake relies on a simple text file ("<code>defs.mk</code>") being
    present in <i>each</i> directory of the project.  Each
    <code>defs.mk</code> describes what must be compiled <i>from that
    directory</i>.</p>
<p>Information describing the many variables in the <code>defs.mk</code> file
for controlling what is built is given  under <a href="Ravl.QMake.Defs.html">Description File Variables </a>.
But to begin with, all you probably need is one or two of these:</p>
<ul>
<li> <a href="Ravl.QMake.Defs.html#MAINS">MAINS</a> A list of programs to compile.
<li> <a href="Ravl.QMake.Defs.html#SOURCES">SOURCES</a> Source files to compile.
<li> <a href="Ravl.QMake.Defs.html#HEADERS">HEADERS</a> Header files for this source code that need to be shared.
<li> <a href="Ravl.QMake.Defs.html#PLIB">PLIB</a> Name of library to create.
<li> <a href="Ravl.QMake.Defs.html#USESLIBS">USESLIBS</a> Libraries needed to compile source code.
<li> <a href="Ravl.QMake.Defs.html#NESTED">NESTED</a> Subdirectories to compile.
</ul>
<p>
E.g. if all you wanted to compile was one file called "fred.cc" containing a
main program, the defs.mk file would contain the single line: </p>
<pre>MAINS = fred.cc</pre> 


<h2> Advanced Configuration </h2>


<p> QMake uses a configuration file to establish what libraries are available called config.local.(system name) . e.g. config.local.linux.
To avoid problems with changes to the default ravl config files, there is an environment variable which if set redirects QMake to a local
configuration file. This should avoid odd problems with compilers changing unexpectedly, or different libraries being enabled/disabled.
Just added the following to your .cshrc :
</p>

<code>
setenv QMAKECONFIGHOME /vol/src/QMakeConfig
</code>
<p>
or for bash users the following should be added to .bashrc
</p>
<code>
export QMAKECONFIGHOME=/vol/src/QMakeConfig
</code>


<!-- <li>Xemacs users: there is an <a href="../html/Ravl-mode.html">Xemacs</a>
enhancement to allow easy QMake compilation from within Xemac. -->
</p>

</body>
</html>


